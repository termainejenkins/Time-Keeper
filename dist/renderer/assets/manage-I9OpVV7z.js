import{r as a,j as e,c as Z}from"./client-C9yhCDaK.js";const{ipcRenderer:F}=window.require("electron"),ee=[{value:0,label:"Sunday"},{value:1,label:"Monday"},{value:2,label:"Tuesday"},{value:3,label:"Wednesday"},{value:4,label:"Thursday"},{value:5,label:"Friday"},{value:6,label:"Saturday"}],H=({onTaskAdded:i,initialTask:s,onCancel:g})=>{const[c,o]=a.useState(""),[f,x]=a.useState(""),[v,u]=a.useState(""),[j,r]=a.useState(""),[l,m]=a.useState("none"),[S,y]=a.useState(2),[k,h]=a.useState([]);a.useEffect(()=>{var n,p;s&&(o(s.title),x(s.start),u(s.end),r(s.description||""),m(s.repeat||"none"),((n=s.repeatSettings)==null?void 0:n.type)==="custom_days"?y(s.repeatSettings.interval):((p=s.repeatSettings)==null?void 0:p.type)==="weekdays"&&h(s.repeatSettings.days))},[s]);const R=async n=>{if(n.preventDefault(),!c||!f||!v)return;let p;l==="custom"?p={type:"custom_days",interval:S}:l==="weekdays"&&(p={type:"weekdays",days:k});const M={title:c,start:f,end:v,description:j,repeat:l,repeatSettings:p},C=s?{...s,...M}:{...M,id:"",completed:!1};i&&i(C);try{if(s)await F.invoke("tasks:update",C);else{const z=await F.invoke("tasks:add",M);i&&i(z)}}catch(z){console.error("Error saving task:",z)}s||(o(""),x(""),u(""),r(""),m("none"),y(2),h([]))},w=n=>{h(p=>p.includes(n)?p.filter(M=>M!==n):[...p,n].sort())};return e.jsxs("form",{className:"task-form",onSubmit:R,style:{marginBottom:16},children:[e.jsx("input",{type:"text",placeholder:"Title",value:c,onChange:n=>o(n.target.value),required:!0}),e.jsx("input",{type:"datetime-local",placeholder:"Start",value:f,onChange:n=>x(n.target.value),required:!0}),e.jsx("input",{type:"datetime-local",placeholder:"End",value:v,onChange:n=>u(n.target.value),required:!0}),e.jsx("input",{type:"text",placeholder:"Description (optional)",value:j,onChange:n=>r(n.target.value)}),e.jsxs("select",{value:l,onChange:n=>m(n.target.value),style:{marginBottom:8},children:[e.jsx("option",{value:"none",children:"Does not repeat"}),e.jsx("option",{value:"daily",children:"Daily"}),e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"weekdays",children:"Weekdays (Mon-Fri)"}),e.jsx("option",{value:"weekends",children:"Weekends (Sat-Sun)"}),e.jsx("option",{value:"every_other_day",children:"Every other day"}),e.jsx("option",{value:"custom",children:"Custom interval"})]}),l==="custom"&&e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("label",{children:"Repeat every "}),e.jsx("input",{type:"number",min:"1",value:S,onChange:n=>y(parseInt(n.target.value)),style:{width:60,marginRight:4}}),e.jsx("label",{children:" days"})]}),l==="weekdays"&&e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("label",{children:"Select days:"}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:4,marginTop:4},children:ee.map(n=>e.jsxs("label",{style:{display:"flex",alignItems:"center",marginRight:8},children:[e.jsx("input",{type:"checkbox",checked:k.includes(n.value),onChange:()=>w(n.value),style:{marginRight:4}}),n.label]},n.value))})]}),e.jsxs("div",{style:{display:"flex",gap:8},children:[e.jsx("button",{type:"submit",children:s?"Update Task":"Add Task"}),s&&g&&e.jsx("button",{type:"button",onClick:g,style:{background:"#f5f5f5",color:"#666"},children:"Cancel"})]})]})},{ipcRenderer:A}=window.require("electron"),te=["S","M","T","W","T","F","S"],oe=i=>{var s,g;if(!i.repeat||i.repeat==="none")return"";switch(i.repeat){case"daily":return"Every day";case"weekly":return"Weekly";case"weekdays":if(((s=i.repeatSettings)==null?void 0:s.type)==="weekdays"){const c=i.repeatSettings;return c.days.length===5&&c.days.includes(1)&&c.days.includes(2)&&c.days.includes(3)&&c.days.includes(4)&&c.days.includes(5)?"M-F":c.days.map(o=>te[o]).join("")}return"M-F";case"weekends":return"Sa-Su";case"every_other_day":return"Every 2 days";case"custom":return((g=i.repeatSettings)==null?void 0:g.type)==="custom_days"?`Every ${i.repeatSettings.interval} days`:"Custom";default:return i.repeat.charAt(0).toUpperCase()+i.repeat.slice(1)}},ne=({fetchTasksRef:i,darkMode:s=!1})=>{const[g,c]=a.useState([]),[o,f]=a.useState(null),x=a.useCallback(()=>{A.invoke("tasks:get").then(r=>{console.log("Fetched tasks:",r),c(r)})},[]);a.useEffect(()=>{console.log("TaskList mounted"),A.invoke("ping").then(r=>{console.log("Ping result:",r)}),x(),i&&(i.current=x)},[x,i]);const v=r=>{f(r)},u=r=>{console.log("Updating task:",r),f(null),c(l=>r.id?l.map(m=>m.id===r.id?r:m):[...l,r]),r.id&&A.invoke("tasks:update",r).catch(l=>{console.error("Error updating task:",l),x()})},j=r=>{const l=new Date(r.start),m=new Date(r.end),S=`${l.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",hour12:!0})} - ${m.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",hour12:!0})}`,y=o===r.id,k=s?"#2c2f36":"#fff",h=s?"#f3f3f3":"#222",R=s?"#444":"#eee",w=s?"#b3b3b3":"#888";return y?e.jsx("li",{style:{marginBottom:12,background:k,padding:"12px",borderRadius:6,border:`1px solid ${R}`,boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:e.jsx(H,{onTaskAdded:u,initialTask:r,onCancel:()=>f(null)})},r.id):e.jsxs("li",{style:{marginBottom:12,display:"flex",alignItems:"center",justifyContent:"space-between",background:k,padding:"8px 12px",borderRadius:6,border:`1px solid ${R}`,color:h},children:[e.jsxs("div",{children:[e.jsx("strong",{children:r.title}),(!r.repeat||r.repeat==="none")&&e.jsxs("span",{style:{marginLeft:8,color:w},children:["(",l.toLocaleDateString(void 0,{month:"short",day:"numeric"}),")"]}),e.jsx("span",{style:{color:s?"#666":"#bbb",margin:"0 8px"},children:"•"}),e.jsx("span",{style:{color:w,fontSize:"0.97em"},children:S}),r.completed&&" ✅",r.repeat&&r.repeat!=="none"&&e.jsxs("span",{style:{marginLeft:8,color:w,fontSize:"0.9em"},children:["[",oe(r),"]"]})]}),e.jsx("button",{onClick:()=>v(r.id),style:{background:"#4fa3e3",border:"none",borderRadius:4,padding:"6px 12px",cursor:"pointer",fontSize:"0.9em",color:"#fff",fontWeight:500,boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:"Edit"})]},r.id)};return e.jsx("div",{className:"task-list",children:g.length===0?e.jsx("div",{style:{textAlign:"center",color:s?"#b3b3b3":"#888",marginTop:32},children:"No tasks yet. Add one above!"}):e.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:g.map(j)})})};console.log("Manage.tsx loaded!");const re=[{key:"tasks",label:"Tasks"},{key:"hud",label:"HUD Options"},{key:"updates",label:"Updates"},{key:"archive",label:"Archive"},{key:"about",label:"About"}],E={darkMode:!1,showCurrentTime:!1,clickThrough:!0,opacity:.85,placement:"top-center",alwaysOnTop:!0},ie="both";function ae(){return localStorage.getItem("viewMode")||ie}function se(i){localStorage.setItem("viewMode",i)}const de=()=>{try{const i=localStorage.getItem("hudSettings");if(i)return{...E,...JSON.parse(i)}}catch{}return{...E}},le=i=>{if(localStorage.setItem("hudSettings",JSON.stringify(i)),window.require){const{ipcRenderer:s}=window.require("electron");console.log("[Renderer] Sending hud-settings-update:",i),s.send("hud-settings-update",i)}},ce=()=>{const[i,s]=a.useState("tasks"),g=a.useRef(()=>{}),c=a.useCallback(()=>{g.current&&g.current()},[]),[o,f]=a.useState(de()),[x,v]=a.useState(""),[u,j]=a.useState("idle"),[r,l]=a.useState(null),[m,S]=a.useState(!0),[y,k]=a.useState(!1),[h,R]=a.useState(ae()),w=t=>{R(t.target.value),se(t.target.value)},n=window.require?window.require("electron").ipcRenderer:null,[p,M]=a.useState([]),C=a.useCallback(()=>{n&&n.invoke("get-archived-tasks").then(M)},[n]);a.useEffect(()=>{i==="archive"&&C()},[i,C]);const z=t=>{n&&n.invoke("restore-archived-task",t).then(C)},V=t=>{n&&n.invoke("delete-archived-task",t).then(C)},[W,q]=a.useState([]),[b,_]=a.useState(""),[B,U]=a.useState(""),[O,L]=a.useState(null),[D,I]=a.useState(""),T=a.useCallback(()=>{n&&(n.invoke("get-task-lists").then(q),n.invoke("get-active-task-list-id").then(_))},[n]);a.useEffect(()=>{i==="tasks"&&T()},[i,T]);const $=t=>{n&&n.invoke("set-active-task-list",t).then(T)},P=()=>{n&&B.trim()&&n.invoke("create-task-list",B.trim()).then(()=>{U(""),T()})},Y=t=>{n&&D.trim()&&n.invoke("rename-task-list",t,D.trim()).then(()=>{L(null),I(""),T()})},K=t=>{n&&n.invoke("delete-task-list",t).then(T)};a.useEffect(()=>{le(o)},[o]),a.useEffect(()=>{const t=o.darkMode?"#23272f":"#f6f7fb";document.body.style.background=t;const d=document.getElementById("root");d&&(d.style.background=t)},[o.darkMode]),a.useEffect(()=>{if(i==="hud"&&(console.log("Rendering HUD Options section"),window.require)){const{ipcRenderer:t}=window.require("electron");t.send("test-event",{foo:123}),console.log("[Renderer] Sent test-event")}},[i]),a.useEffect(()=>(n&&(n.invoke("get-app-version").then(v),n.invoke("get-update-status").then(t=>{j(t.status),l(t.info),S(t.autoUpdate)}),n.on("update-status",(t,{status:d,info:X})=>{j(d),l(X),k(!1)})),()=>{n&&n.removeAllListeners("update-status")}),[]);const G=()=>{n&&(k(!0),n.invoke("check-for-updates"))},J=t=>{const d=t.target.checked;S(d),n&&n.invoke("set-auto-update",d)},Q=()=>{f({...E})};return e.jsxs("div",{style:{display:"flex",height:"100vh",width:"100vw",background:o.darkMode?"#23272f":"#f6f7fb",fontFamily:"Inter, Arial, sans-serif",color:o.darkMode?"#f3f3f3":"#222",transition:"background 0.2s, color 0.2s",margin:0,padding:0,boxSizing:"border-box"},children:[e.jsx("nav",{style:{width:160,height:"100vh",background:o.darkMode?"#181b20":"#fff",borderRight:o.darkMode?"1px solid #2c2f36":"1px solid #eee",display:"flex",flexDirection:"column",alignItems:"stretch",padding:0,boxShadow:o.darkMode?"2px 0 8px rgba(0,0,0,0.12)":"2px 0 8px rgba(0,0,0,0.03)",transition:"background 0.2s, border 0.2s"},children:e.jsx("div",{style:{padding:"24px 0",flex:1,display:"flex",flexDirection:"column"},children:re.map(t=>e.jsx("button",{onClick:()=>s(t.key),style:{background:i===t.key?o.darkMode?"#23272f":"#e3e8f0":"none",border:"none",borderLeft:i===t.key?"4px solid #4fa3e3":"4px solid transparent",color:o.darkMode?i===t.key?"#fff":"#b3b3b3":"#222",fontWeight:i===t.key?700:400,fontSize:16,padding:"12px 20px",textAlign:"left",cursor:"pointer",outline:"none",transition:"background 0.2s, border 0.2s, color 0.2s"},children:t.label},t.key))})}),e.jsxs("main",{style:{flex:1,padding:"32px 40px",background:o.darkMode?"#23272f":"#f6f7fb",display:"flex",flexDirection:"column",minWidth:0,color:o.darkMode?"#f3f3f3":"#222",transition:"background 0.2s, color 0.2s",minHeight:"100vh",boxSizing:"border-box"},children:[e.jsxs("div",{style:{marginBottom:32,marginTop:8},children:[e.jsx("label",{style:{fontWeight:600,fontSize:17,marginRight:12},children:"View Mode:"}),e.jsxs("select",{value:h,onChange:w,style:{fontSize:16,padding:"4px 12px",borderRadius:6},children:[e.jsx("option",{value:"local",children:"Local Tasks"}),e.jsx("option",{value:"google",children:"Google Calendar"}),e.jsx("option",{value:"both",children:"Both"})]})]}),i==="tasks"&&e.jsxs(e.Fragment,{children:[(h==="local"||h==="both")&&e.jsxs(e.Fragment,{children:[e.jsx("h2",{style:{fontWeight:700,fontSize:24,marginBottom:16,color:o.darkMode?"#f3f3f3":"#222"},children:"Tasks"}),e.jsxs("div",{style:{marginBottom:18},children:[e.jsx("label",{style:{fontWeight:700,fontSize:17,marginRight:10,color:o.darkMode?"#fff":"#222"},children:"Active Task List:"}),e.jsx("select",{value:b,onChange:t=>$(t.target.value),style:{fontSize:16,padding:"5px 12px",borderRadius:6,marginRight:10,background:o.darkMode?"#23272f":"#fff",color:o.darkMode?"#fff":"#222",border:"2px solid #4fa3e3",fontWeight:700,boxShadow:"0 2px 8px rgba(79,163,227,0.10)"},children:W.map(t=>e.jsx("option",{value:t.id,style:{background:t.id===b?"#4fa3e3":o.darkMode?"#23272f":"#fff",color:t.id===b?"#fff":o.darkMode?"#f3f3f3":"#222",fontWeight:t.id===b?700:500},children:t.name},t.id))}),e.jsx("input",{type:"text",value:B,onChange:t=>U(t.target.value),placeholder:"New list name",style:{fontSize:15,padding:"4px 10px",borderRadius:6,marginRight:6,background:o.darkMode?"#23272f":"#fff",color:o.darkMode?"#fff":"#222",border:"1px solid #aaa"}}),e.jsx("button",{onClick:P,style:{fontSize:15,padding:"4px 12px",borderRadius:6,background:"#4fa3e3",color:"#fff",border:"none",fontWeight:700,boxShadow:"0 1px 4px rgba(0,0,0,0.07)"},children:"+ New"})]}),e.jsx("div",{style:{marginBottom:18,display:"flex",gap:10,flexWrap:"wrap"},children:W.map(t=>e.jsx("span",{style:{display:"inline-flex",alignItems:"center",gap:4,background:t.id===b?"#4fa3e3":o.darkMode?"#23272f":"#f6f7fb",borderRadius:6,padding:"2px 12px",color:t.id===b?"#fff":o.darkMode?"#f3f3f3":"#222",fontWeight:t.id===b?700:500,border:t.id===b?"2px solid #4fa3e3":"1px solid #ccc",boxShadow:t.id===b?"0 2px 8px rgba(79,163,227,0.10)":"none"},children:O===t.id?e.jsxs(e.Fragment,{children:[e.jsx("input",{value:D,onChange:d=>I(d.target.value),style:{fontSize:14,padding:"2px 6px",borderRadius:4,background:o.darkMode?"#23272f":"#fff",color:o.darkMode?"#fff":"#222",border:"1px solid #aaa"}}),e.jsx("button",{onClick:()=>Y(t.id),style:{fontSize:13,marginLeft:2,color:"#4fa3e3",fontWeight:700,background:"none",border:"none",cursor:"pointer"},children:"Save"}),e.jsx("button",{onClick:()=>L(null),style:{fontSize:13,marginLeft:2,color:"#e34f4f",fontWeight:700,background:"none",border:"none",cursor:"pointer"},children:"Cancel"})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:t.name}),e.jsx("button",{onClick:()=>{L(t.id),I(t.name)},style:{fontSize:13,marginLeft:2,color:t.id===b?"#fff":"#4fa3e3",fontWeight:700,background:"none",border:"none",cursor:"pointer"},children:"Rename"}),W.length>1&&e.jsx("button",{onClick:()=>K(t.id),style:{fontSize:13,marginLeft:2,color:"#e34f4f",fontWeight:700,background:"none",border:"none",cursor:"pointer"},children:"Delete"})]})},t.id))}),e.jsx(H,{onTaskAdded:c}),e.jsx(ne,{fetchTasksRef:g,darkMode:o.darkMode})]}),(h==="google"||h==="both")&&e.jsx("div",{style:{marginTop:32,color:"#4fa3e3",fontSize:18},children:e.jsx("b",{children:"Google Calendar events will appear here (integration coming soon)."})})]}),i==="hud"&&e.jsxs(e.Fragment,{children:[e.jsx("h2",{style:{fontWeight:700,fontSize:24,marginBottom:16,color:o.darkMode?"#f3f3f3":"#222"},children:"HUD Options"}),e.jsxs("div",{style:{color:o.darkMode?"#f3f3f3":"#222",fontSize:16,marginTop:24,maxWidth:400},children:[e.jsxs("label",{style:{display:"flex",alignItems:"center",marginBottom:18,gap:10},children:[e.jsx("input",{type:"checkbox",checked:o.darkMode,onChange:t=>f(d=>({...d,darkMode:t.target.checked}))}),"Dark mode"]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",marginBottom:18,gap:10},children:[e.jsx("input",{type:"checkbox",checked:o.showCurrentTime,onChange:t=>f(d=>({...d,showCurrentTime:t.target.checked}))}),"Show current time"]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",marginBottom:18,gap:10},children:[e.jsx("input",{type:"checkbox",checked:o.clickThrough,onChange:t=>f(d=>({...d,clickThrough:t.target.checked}))}),"Enable click-through"]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",marginBottom:18,gap:10},children:[e.jsx("input",{type:"checkbox",checked:o.alwaysOnTop,onChange:t=>f(d=>({...d,alwaysOnTop:t.target.checked}))}),"Always on Top"]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",marginBottom:18,gap:10},children:["Placement",e.jsxs("select",{value:o.placement,onChange:t=>{console.log("[Renderer] Placement changed to:",t.target.value),f(d=>({...d,placement:t.target.value}))},style:{marginLeft:12},children:[e.jsx("option",{value:"top-left",children:"Top Left"}),e.jsx("option",{value:"top-center",children:"Top Center"}),e.jsx("option",{value:"top-right",children:"Top Right"}),e.jsx("option",{value:"bottom-left",children:"Bottom Left"}),e.jsx("option",{value:"bottom-center",children:"Bottom Center"}),e.jsx("option",{value:"bottom-right",children:"Bottom Right"}),e.jsx("option",{value:"center",children:"Center"})]})]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",marginBottom:18,gap:10},children:["Opacity",e.jsx("input",{type:"range",min:.5,max:1,step:.01,value:o.opacity,onChange:t=>f(d=>({...d,opacity:Number(t.target.value)})),style:{flex:1,marginLeft:12}}),e.jsxs("span",{style:{width:40,textAlign:"right",color:o.darkMode?"#b3b3b3":"#888",fontSize:15},children:[Math.round(o.opacity*100),"%"]})]}),e.jsx("button",{onClick:Q,style:{marginTop:12,background:o.darkMode?"#23272f":"#f3f3f3",border:o.darkMode?"1px solid #444":"1px solid #ddd",borderRadius:6,padding:"8px 18px",fontSize:15,color:o.darkMode?"#f3f3f3":"#444",cursor:"pointer",fontWeight:500,transition:"background 0.2s, border 0.2s"},children:"Reset to Defaults"})]}),e.jsxs("div",{style:{marginTop:40,background:o.darkMode?"rgba(30,34,40,0.95)":`rgba(0,0,0,${o.opacity})`,borderRadius:10,boxShadow:"0 2px 12px rgba(0,0,0,0.08)",padding:24,color:o.darkMode?"#f3f3f3":"#fff",minHeight:80,maxWidth:340,fontSize:18,fontWeight:500,letterSpacing:.2,display:"flex",flexDirection:"column",alignItems:"center",border:o.darkMode?"1.5px solid #222":"1.5px solid #2222",transition:"background 0.2s, color 0.2s"},children:[e.jsx("span",{style:{fontWeight:700,fontSize:20,marginBottom:6,color:o.darkMode?"#b3d1f7":"#cce6ff"},children:"HUD Preview"}),e.jsxs("span",{style:{fontSize:16,color:o.darkMode?"#b3d1f7":"#cce6ff"},children:["Current Task: ",e.jsx("b",{style:{color:(o.darkMode,"#fff")},children:"Example Task"})]}),o.showCurrentTime&&e.jsx("span",{style:{fontSize:15,color:o.darkMode?"#eee":"#e0e0e0",marginTop:4},children:"12:34:56 PM"}),e.jsx("span",{style:{fontSize:15,color:o.darkMode?"#eee":"#e0e0e0",marginTop:4},children:"(00:12:34 left)"})]})]}),i==="updates"&&e.jsxs(e.Fragment,{children:[e.jsx("h2",{style:{fontWeight:700,fontSize:24,marginBottom:16,color:o.darkMode?"#f3f3f3":"#222"},children:"Updates"}),e.jsxs("div",{style:{color:o.darkMode?"#f3f3f3":"#222",fontSize:16,marginTop:24,maxWidth:500},children:[e.jsxs("div",{style:{marginBottom:12},children:[e.jsx("b",{children:"Current Version:"})," ",x]}),e.jsxs("div",{style:{marginBottom:12},children:[e.jsx("b",{children:"Update Status:"})," ",y?"Checking...":u.charAt(0).toUpperCase()+u.slice(1)]}),u==="available"&&r&&e.jsxs("div",{style:{marginBottom:12,color:"#4fa3e3"},children:[e.jsx("b",{children:"New version available:"})," ",r.version||""]}),u==="downloading"&&r&&e.jsxs("div",{style:{marginBottom:12,color:"#4fa3e3"},children:[e.jsx("b",{children:"Downloading update..."})," ",r.percent?`${Math.round(r.percent)}%`:""]}),u==="downloaded"&&r&&e.jsxs("div",{style:{marginBottom:12,color:"#4fa3e3"},children:[e.jsx("b",{children:"Update downloaded!"})," Restart the app to apply the update."]}),u==="error"&&r&&e.jsxs("div",{style:{marginBottom:12,color:"red"},children:[e.jsx("b",{children:"Update error:"})," ",r.message||String(r)]}),r&&r.releaseNotes&&e.jsxs("div",{style:{marginBottom:12},children:[e.jsx("b",{children:"Release Notes:"}),e.jsx("div",{style:{background:"#2222",padding:10,borderRadius:6,marginTop:4,maxHeight:120,overflowY:"auto",fontSize:15},dangerouslySetInnerHTML:{__html:r.releaseNotes}})]}),e.jsxs("div",{style:{marginBottom:12},children:[e.jsx("button",{onClick:G,disabled:y,style:{background:"#4fa3e3",color:"#fff",border:"none",borderRadius:6,padding:"8px 18px",fontSize:15,cursor:"pointer",fontWeight:500,marginRight:16},children:"Check for Updates"}),e.jsxs("label",{style:{display:"inline-flex",alignItems:"center",gap:8,fontSize:15},children:[e.jsx("input",{type:"checkbox",checked:m,onChange:J}),"Enable Auto-Update"]})]})]})]}),i==="archive"&&e.jsxs(e.Fragment,{children:[e.jsx("h2",{style:{fontWeight:700,fontSize:24,marginBottom:16,color:o.darkMode?"#f3f3f3":"#222"},children:"Archive"}),e.jsxs("div",{style:{color:o.darkMode?"#f3f3f3":"#222",fontSize:16,marginTop:24,maxWidth:600},children:[p.length===0&&e.jsx("div",{children:"No archived tasks."}),p.map(t=>e.jsxs("div",{style:{background:o.darkMode?"#23272f":"#f6f7fb",border:"1px solid #ccc",borderRadius:8,padding:16,marginBottom:14,display:"flex",flexDirection:"column",gap:6},children:[e.jsx("div",{children:e.jsx("b",{children:t.title})}),e.jsxs("div",{style:{fontSize:14,color:"#888"},children:["Ended: ",new Date(t.end).toLocaleString()]}),t.expiredAt&&e.jsxs("div",{style:{fontSize:13,color:"#aaa"},children:["Archived: ",new Date(t.expiredAt+24*60*60*1e3).toLocaleString()]}),e.jsxs("div",{style:{display:"flex",gap:10,marginTop:6},children:[e.jsx("button",{onClick:()=>z(t.id),style:{background:"#4fa3e3",color:"#fff",border:"none",borderRadius:6,padding:"6px 14px",fontSize:14,cursor:"pointer",fontWeight:500},children:"Restore"}),e.jsx("button",{onClick:()=>V(t.id),style:{background:"#e34f4f",color:"#fff",border:"none",borderRadius:6,padding:"6px 14px",fontSize:14,cursor:"pointer",fontWeight:500},children:"Delete"})]})]},t.id))]})]}),i==="about"&&e.jsxs(e.Fragment,{children:[e.jsx("h2",{style:{fontWeight:700,fontSize:24,marginBottom:16,color:o.darkMode?"#f3f3f3":"#222"},children:"About"}),e.jsxs("div",{style:{color:o.darkMode?"#b3b3b3":"#666",fontSize:16,marginTop:24},children:[e.jsx("p",{children:"Time Keeper v1.0"}),e.jsx("p",{children:"Modern minimalist time/task HUD for desktop."}),e.jsxs("p",{style:{fontSize:14,color:o.darkMode?"#888":"#aaa",marginTop:16},children:["© ",new Date().getFullYear()," Time Keeper"]})]})]})]})]})},N=document.getElementById("root");N&&Z(N).render(e.jsx(ce,{}));
